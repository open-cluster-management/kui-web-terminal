"use strict";
/*******************************************************************************
* Licensed Materials - Property of IBM
* (c) Copyright IBM Corporation 2019. All Rights Reserved.
*
* Note to U.S. Government Users Restricted Rights:
* Use, duplication or disclosure restricted by GSA ADP Schedule
* Contract with IBM Corp.
*******************************************************************************/
exports.__esModule = true;
var lodash = require("lodash");
var React = require("react");
var ReactDOM = require("react-dom");
var i18n_1 = require("../../util/i18n");
var Logger_1 = require("../../components/Logger");
/**
 * Render resource's log list
 *
 */
exports.buildLog = function (data) { return new Promise(function (resolve, reject) {
    var node = document.createElement('div');
    node.classList.add('scrollable');
    node.classList.add('bx--structured-list--summary');
    var containers = lodash.get(data, 'container', '').replace(/,/g, '').split(' ');
    var logger = function () {
        return (React.createElement(Logger_1["default"], { data: data, items: containers }));
    };
    ReactDOM.render(React.createElement(logger), node);
    resolve(node);
}); };
/**
 * Render resource's logs tab
 *
 */
exports.logTab = function (data) {
    var badges = [];
    // This will allow the sidecar balloon element to display the resources name.
    var balloon = data.name.split(/(-[0-9])/);
    badges.push(balloon[0]);
    return {
        mode: 'logging',
        label: i18n_1["default"]('search.label.logs'),
        order: 3,
        content: exports.buildLog(data)
    };
};
